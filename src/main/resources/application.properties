# ============================================
# CONFIGURACOES AZURE (PRODUCAO)
# ============================================

# TABLE STORAGE - Producao (Azure) - substitui Cosmos DB
azure.storage.connection-string=${AZURE_STORAGE_CONNECTION_STRING}
azure.table.table-name=feedbacks

# MAILTRAP - Envio de emails
# Configure as variáveis de ambiente (OBRIGATÓRIAS):
# - MAILTRAP_API_TOKEN: Token da API do Mailtrap
# - ADMIN_EMAIL: Email do administrador para receber notificações
# - MAILTRAP_INBOX_ID: ID da inbox do Mailtrap
mailtrap.api-token=${MAILTRAP_API_TOKEN}
admin.email=${ADMIN_EMAIL}
mailtrap.inbox-id=${MAILTRAP_INBOX_ID}

# BLOB STORAGE - Producao (Azure)
azure.blob.connection-string=${AZURE_STORAGE_CONNECTION_STRING}
azure.storage.container-name=weekly-reports

# ============================================
# CONFIGURACOES AZURE FUNCTIONS
# ============================================
AzureWebJobsStorage=${AzureWebJobsStorage}
FUNCTIONS_WORKER_RUNTIME=java
FUNCTIONS_EXTENSION_VERSION=~4

# ============================================
# CONFIGURACOES DE APLICACAO
# ============================================
app.name=tech-challenge-feedback
app.version=1.0.0
app.environment=production

# Threshold para feedback critico
feedback.critical.threshold=3

# Configuracao de relatorio
# IMPORTANTE: Para Azure Functions, configure também a variável de ambiente REPORT_SCHEDULE_CRON
# Exemplo: 0 */5 * * * * (a cada 5 minutos) ou 0 0 8 * * MON (toda segunda às 08:00)
report.schedule.cron=0 */5 * * * *  # A cada 5 minutos (para facilitar visualização de resultados)

# Health Check Configuration (opcional - endpoints padrão: /q/health, /q/health/live, /q/health/ready)
# Configurado para usar /health ao invés de /q/health
quarkus.smallrye-health.root-path=/health

# ============================================
# CONFIGURACOES QUARKUS REST (CLOUD)
# ============================================
# IMPORTANTE: Azure Functions já adiciona prefixo /api automaticamente
# Configurar root path para / (raiz) para que endpoints fiquem em /api/health, /api/avaliacao
quarkus.http.root-path=/
# Path base para REST endpoints
quarkus.rest.path=/

# ============================================
# OTIMIZACOES PARA PRODUCAO
# ============================================
# Desabilitar Dev Services (não necessário na cloud)
quarkus.devservices.enabled=false

# Configurar log level para produção (reduz overhead)
quarkus.log.level=INFO